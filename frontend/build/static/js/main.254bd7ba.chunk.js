(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{67:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(0),a=n.n(r),s=n(25),o=n.n(s),u=(n(67),n(4)),i=n.n(u),l=n(14),j=n(7),h=(n(69),n(70),n(100)),d=n(47),b=n.n(d),p=n(97),f=n(51),O=n.n(f),x=n(6),v=n(24),g=Object(r.createContext)(),m=function(e){var t=e.reducer,n=e.initialState,a=e.children;return Object(c.jsx)(g.Provider,{value:Object(r.useReducer)(t,n),children:a})},y=function(){return Object(r.useContext)(g)},_=n(52),w=n.n(_),k=n(33),N="SET_USER",S=function(e,t){switch(console.log(t),t.type){case N:return Object(k.a)(Object(k.a)({},e),{},{user:t.user});case t.SET_SEARCH_RESULT:return Object(k.a)(Object(k.a)({},e),{},{searchResault:t.result});default:return e}},C="/tasks",T={get:function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(C);case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),put:function(){var e=Object(l.a)(i.a.mark((function e(t,n){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(C+"/".concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({task:n})});case 2:return c=e.sent,e.abrupt("return",c.json());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),putCheck:function(){var e=Object(l.a)(i.a.mark((function e(t,n){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(C+"/".concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({checked:n})});case 2:return c=e.sent,e.abrupt("return",c.json());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),post:function(){var e=Object(l.a)(i.a.mark((function e(t,n){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(C,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({task:t,author:n})});case 2:return c=e.sent,e.abrupt("return",c.json());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),deleteOne:function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(C+"/".concat(t),{method:"Delete"});case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteAll:function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(C,{method:"DELETE"});case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),login:function(){var e=Object(l.a)(i.a.mark((function e(t,n){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:n})});case 2:return c=e.sent,e.abrupt("return",c.json());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),signup:function(){var e=Object(l.a)(i.a.mark((function e(t,n,c,r){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/users/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:n,firstname:c,lastname:r})});case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t,n,c,r){return e.apply(this,arguments)}}(),getUser:function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/users/user");case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),search:function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/tasks/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t})});case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),logout:function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/users/logout");case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()};var E=function(){var e=Object(r.useState)(!1),t=Object(j.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(!1),o=Object(j.a)(s,2),u=o[0],i=o[1],l=Object(r.useState)(!1),d=Object(j.a)(l,2),f=d[0],g=d[1],m=Object(x.g)(),_=y(),k=Object(j.a)(_,2),S=k[0].user,C=k[1],E=Object(r.useState)(""),D=Object(j.a)(E,2),L=D[0],P=D[1],J=function(){a(window.innerWidth<768),window.innerWidth>=768&&(i(!1),g(!1))};return Object(r.useEffect)((function(){return g(!1),window.addEventListener("resize",J),function(){return window.removeEventListener("resize",J)}}),[]),Object(c.jsxs)("div",{className:"header",children:[Object(c.jsx)("div",{className:"header__left ",children:Object(c.jsx)(v.b,{to:"/",children:Object(c.jsx)("img",{src:"https://www.freelogodesign.org/file/app/client/thumb/1d626996-4ec0-44ef-8356-1164949aa1e6_200x200.png?1610740223773",alt:"logo",className:"header__logo"})})}),Object(c.jsx)("div",{className:"header__center",children:Object(c.jsxs)("form",{action:"",className:"header__search ".concat(n&&u?"header_searchSM_TO":""," "),children:[Object(c.jsx)(b.a,{onClick:function(){i(!u)},className:"header__searchIcon"}),Object(c.jsx)("input",{value:L,onChange:function(e){return P(e.target.value)},type:"text"}),Object(c.jsx)("button",{onClick:function(e){e.preventDefault(),m.push("/search/".concat(L)),P("")},type:"submit"})]})}),Object(c.jsxs)("div",{className:"header__right  ".concat(f?"header__rightTO":" "),children:[Object(c.jsx)(p.a,{color:"".concat(f?"secondary":"primary"),onClick:function(){g(!f)},children:Object(c.jsx)(O.a,{})}),Object(c.jsx)(p.a,{onClick:function(e){localStorage.removeItem("user"),T.logout().then((function(e){C({type:N,user:null}),m.push("/login")})).catch((function(e){return console.log(e)}))},children:Object(c.jsx)(w.a,{color:"inherit"})}),Object(c.jsxs)("ul",{className:"list",children:[Object(c.jsx)(v.b,{to:"/",children:Object(c.jsx)("li",{children:"tasks"})}),Object(c.jsx)(v.b,{to:"/search/a",children:Object(c.jsx)("li",{children:"Search"})})]}),Object(c.jsx)("div",{className:"header__avatar",children:Object(c.jsx)(h.a,{src:(null===S||void 0===S?void 0:S.image)?S.image:"",children:(null===S||void 0===S?void 0:S.image)?" ":null===S||void 0===S?void 0:S.username.charAt(0).toUpperCase()})})]})]})},D=(n(77),n(53)),L=(n(78),n(54)),P=n.n(L),J=n(39),I=n.n(J),U=n(55),q=n.n(U);var F=function(){var e=Object(r.useState)("Login"),t=Object(j.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(""),o=Object(j.a)(s,2),u=o[0],i=o[1],l=Object(r.useState)(""),d=Object(j.a)(l,2),b=d[0],p=d[1],f=Object(r.useState)(""),O=Object(j.a)(f,2),v=O[0],g=O[1],m=Object(r.useState)(""),_=Object(j.a)(m,2),w=_[0],k=_[1],S=Object(r.useState)(""),C=Object(j.a)(S,2),E=C[0],L=C[1],J=Object(x.g)(),U=y(),F=Object(j.a)(U,2);Object(D.a)(F[0]);var R=F[1];return"Login"===n?Object(c.jsxs)("div",{className:"loginform",children:[Object(c.jsx)("h2",{children:"Login With"}),Object(c.jsxs)("div",{className:"login__Oauth",children:[Object(c.jsxs)("button",{onClick:function(e){e.preventDefault(),window.open("http://localhost:8080/auth/google","_self")},className:"oauth",type:"submit",children:[Object(c.jsx)(I.a,{}),Object(c.jsx)("p",{children:"Google"})]}),Object(c.jsxs)("button",{onClick:function(e){e.preventDefault(),window.open("http://localhost:8080/auth/github","_self")},className:"oauth",type:"submit",children:[Object(c.jsx)(P.a,{}),Object(c.jsx)("p",{children:"Github"})]})]}),Object(c.jsxs)("form",{action:"",children:[Object(c.jsx)("h3",{className:"error",children:E}),Object(c.jsx)("input",{value:u,onChange:function(e){return i(e.target.value)},type:"username",required:!0,placeholder:"Enter Email"}),Object(c.jsx)("input",{value:b,onChange:function(e){return p(e.target.value)},type:"password",required:!0,placeholder:"Enter Password"}),Object(c.jsx)("button",{disabled:!u||!b,className:"button1",onClick:function(e){e.preventDefault(),L(""),T.login(u,b).then((function(e){e.success?(localStorage.setItem("user",JSON.stringify(e.user)),R({type:N,user:e.user}),J.push("/")):L(e.status)})).catch((function(e){return console.log(e)})),i(""),p("")},children:n.toUpperCase()}),Object(c.jsx)("button",{className:"button2",type:"submit",onClick:function(e){e.preventDefault(),a("Signup"),L("")},children:"Dont Have Account? Signup"})]})]}):Object(c.jsxs)("div",{className:"loginform",children:[Object(c.jsx)("h2",{children:n}),Object(c.jsx)(h.a,{}),Object(c.jsxs)("form",{action:"",children:[Object(c.jsx)("h3",{className:"error",children:E}),Object(c.jsx)("input",{value:v,onChange:function(e){return g(e.target.value)},type:"text",required:!0,placeholder:"Enter Firstname"}),Object(c.jsx)("input",{value:w,onChange:function(e){return k(e.target.value)},type:"text",required:!0,placeholder:"Enter Lastname"}),Object(c.jsx)("input",{value:u,onChange:function(e){return i(e.target.value)},type:"username",required:!0,placeholder:"Enter Email"}),Object(c.jsx)("input",{type:"password",value:b,onChange:function(e){return p(e.target.value)},required:!0,placeholder:"Enter Password"}),Object(c.jsx)("button",{onClick:function(e){e.preventDefault(),L(""),T.signup(u,b,v,w).then((function(e){console.log(e),e.success?(a("Login"),i(""),p(""),g(""),k("")):L(e.status)})).catch((function(e){return console.log(e)}))},className:"button1",children:n.toUpperCase()}),Object(c.jsx)(q.a,{onClick:function(e){e.preventDefault(),a("Login"),L("")}})]})]})};var R=function(){return Object(c.jsxs)("div",{className:"login",children:[Object(c.jsxs)("div",{className:"login__welcome",children:[Object(c.jsxs)("div",{className:"login__welcomeMessage",children:[Object(c.jsx)("h2",{children:"Welcome!"}),Object(c.jsx)("p",{children:"welcome to Todo app"})]}),Object(c.jsxs)("div",{className:"login__welcomeBy",children:[Object(c.jsx)(I.a,{}),Object(c.jsx)("h6",{children:"ali1saleem1hasan@gmail.com"})]})]}),Object(c.jsx)("div",{className:"login__container",children:Object(c.jsx)(F,{})})]})},A=n(45),W=(n(79),n(57)),z=n.n(W),B=n(99),M=n(56),G=n.n(M),H=n(98);var K=function(e){var t=e.type,n=Object(r.useState)([]),a=Object(j.a)(n,2),s=a[0],o=a[1],u=Object(r.useState)(""),i=Object(j.a)(u,2),l=i[0],h=i[1],d=y(),b=Object(j.a)(d,1)[0].user,f=Object(x.h)(),O=function(e,t,n){return function(c){c.preventDefault();var r=Object(A.a)(s);if(void 0===n){var a=prompt("please enter your updated todo ",r[t].task);a&&(T.put(e,a).then((function(e){console.log(e)})).catch((function(e){return console.log(e)})),r[t].task=a)}else T.putCheck(e,n).then((function(e){console.log(e)})).catch((function(e){return console.log(e)})),r[t].checked=n;o(r)}};return Object(r.useEffect)((function(){"Search"===t?f&&T.search(f.searchText).then((function(e){e.success&&o(e.tasks)})).catch((function(e){return console.log(e)})):T.get().then((function(e){o(e.tasks)})).catch((function(e){return console.log(e)}))}),[b,f,t]),Object(c.jsxs)("div",{className:"todo",children:[Object(c.jsxs)("div",{className:"todo__head",children:[Object(c.jsxs)("h2",{className:"todo__title",children:[" ",t]}),Object(c.jsxs)("h5",{className:"todo__user",children:[" ",null===b||void 0===b?void 0:b.username]})]}),"Search"===t?" ":Object(c.jsxs)("div",{className:"todo__fun",children:[Object(c.jsxs)("form",{className:"todo__input",children:[Object(c.jsx)("input",{value:l,onChange:function(e){return h(e.target.value)},type:"text",placeholder:"New Todo.."}),Object(c.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),T.post(l,null===b||void 0===b?void 0:b._id).then((function(e){o([].concat(Object(A.a)(s),[e.task]))})).catch((function(e){return console.log(e)})),h("")}})]}),Object(c.jsx)(H.a,{type:"submit",color:"secondary",onClick:function(e){e.preventDefault(),T.deleteAll().then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),o([])},children:"DELETE ALL"})]}),null===s||void 0===s?void 0:s.map((function(e,t){var n,r=e.task,a=e.checked,u=e._id;return Object(c.jsxs)("div",{className:"todo__container",children:[Object(c.jsxs)("div",{className:"todo__containerLeft",children:[Object(c.jsx)(B.a,{size:"small",color:"primary",checked:a,onClick:O(u,t,!a)}),Object(c.jsx)("p",{className:"todo__containerParagraph ".concat(a?"todo__containerParagraphChecked":""),children:r})]}),Object(c.jsxs)("div",{className:"todo__containerRight",children:[Object(c.jsx)(p.a,{onClick:O(u,t),children:Object(c.jsx)(G.a,{className:"todo__icon1"})}),Object(c.jsx)(p.a,{onClick:(n=u,function(e){e.preventDefault(),T.deleteOne(n).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),o(s.filter((function(e){return e._id!==n})))}),children:Object(c.jsx)(z.a,{className:"todo__icon2"})})]})]},u)}))]})};var Q=function(){var e=y(),t=Object(j.a)(e,2),n=t[0].user,a=t[1];return Object(r.useEffect)((function(){n||function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.getUser().then((function(e){e.success&&(localStorage.setItem("user",JSON.stringify(e.user)),a({type:N,user:e.user}))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[n]),Object(c.jsx)("div",{className:"app",children:Object(c.jsx)(v.a,{children:Object(c.jsxs)(x.d,{children:[Object(c.jsx)(x.b,{path:"/login",children:localStorage.getItem("user")?Object(c.jsx)(x.a,{to:"/"}):Object(c.jsx)(R,{})}),Object(c.jsx)(x.b,{path:"/search/:searchText",children:localStorage.getItem("user")?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(E,{}),Object(c.jsx)(K,{type:"Search"})]}):Object(c.jsx)(x.a,{to:"/login"})}),Object(c.jsx)(x.b,{path:"/",children:localStorage.getItem("user")?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(E,{}),Object(c.jsx)(K,{type:"Todos"})]}):Object(c.jsx)(x.a,{to:"login"})})]})})})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,101)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};o.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(m,{initialState:{user:null,searchResult:[]},reducer:S,children:Object(c.jsx)(Q,{})})}),document.getElementById("root")),V()}},[[80,1,2]]]);
//# sourceMappingURL=main.254bd7ba.chunk.js.map